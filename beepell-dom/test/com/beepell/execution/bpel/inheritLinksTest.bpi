<?xml version="1.0" encoding="UTF-8"?>

<instance 
  bpi:state="running"
  name="exchange-instance"
  targetNamespace="http://beepell.com/tests/context/links"  
  xmlns:exc="http://beepell.com/tests/exchange/wsdl"
  xmlns="http://www.itu.dk/research/pls/bpl/bpel/instance"
  xmlns:bpi="http://www.itu.dk/research/pls/bpl/bpel/instance">

  <sequence>
    <flow>  
      <links>
        <link name="a1b2" />
        <link name="a2b1" state="true" />
        <link name="ab" state="false" />
      </links>

        <if name="a">
          <sources>
            <source linkName="a1b2" />
            <source linkName="a2b1" />
            <source linkName="ab" />
          </sources>
          <condition>true()</condition>
          <empty name="b" />
        </if>

      <empty>
        <targets>
          <target linkName="a1b2" />
          <target linkName="a2b1" />
          <target linkName="ab" />
        </targets>
      </empty>
    </flow>
  
    <flow>  
      <links>
        <link name="a1b2" />
        <link name="a2b1" state="true" />
        <link name="ab" state="false" />
      </links>

        <if name="c">
          <sources>
            <source linkName="ab" />
          </sources>
          <condition>true()</condition>
          <empty name="d">
            <sources>
              <source linkName="a1b2" />
              <source linkName="a2b1" />
            </sources>
          </empty>          
        </if>

      <empty>
        <targets>
          <target linkName="a1b2" />
          <target linkName="a2b1" />
          <target linkName="ab" />
        </targets>
      </empty>
    </flow>
  </sequence>
  
</instance>