<?xml version="1.0" encoding="UTF-8"?>

<instance 
  bpi:state="running"
  name="exchange-instance"
  targetNamespace="http://beepell.com/tests/context/links"  
  xmlns:exc="http://beepell.com/tests/exchange/wsdl"
  xmlns="http://www.itu.dk/research/pls/bpl/bpel/instance"
  xmlns:bpi="http://www.itu.dk/research/pls/bpl/bpel/instance">

  <flow>  
    <links>
      <link name="a1b2" />
      <link name="a2b1" state="true" />
      <link name="ab" state="false" />
    </links>

    <scope name="A">
      <sources><source linkName="ab" /></sources>
      <flow>
        <links>
          <link name="a1a2" />
          <link name="ab" />
        </links>
        <sequence name="a1">
          <sources><source linkName="ab" /></sources>
          <empty />
          <empty>
            <sources><source linkName="a1a2" /></sources>
          </empty>     
          <empty />
        </sequence>
      
        <sequence name="a2">
          <targets><target linkName="ab" /></targets>
          <empty />
          <empty>
            <targets><target linkName="a1a2" /></targets>
          </empty>
          <empty />
        </sequence>
      </flow>
    </scope>
  
    <scope scope="B">
      <targets><target linkName="ab" /></targets>
      <flow>
        <links>
          <link name="b1b2" />
        </links>
        <sequence name="b1">
          <empty />
          <empty />
          <empty>
            <sources><source linkName="b1b2" /></sources>
          </empty>
        </sequence>
      
        <sequence name="b2">
          <targets><target linkName="a1b2" /></targets>
          <empty>
            <targets><target linkName="b1b2" /></targets>
          </empty>
          <empty />
        </sequence>
      </flow>
    </scope>

  </flow>
  
</instance>