<process
   name="pingPong"
   targetNamespace="http://com.beepell/sampels/pingPong"
   xmlns="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
   xmlns:bpel="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
   xmlns:png="http://beepell.com/wsdl/ping"
   xmlns:ext="http://com.beepell/samples/extesion">

   <flow>
     <links>
       <link name="AtoJ"/>
       <link name="BtoK"/>
       <link name="ItoE"/>
     </links>

     <scope name="scope1">
       <sequence>
         <empty name="A">
           <sources>
             <source linkName="AtoJ" />
           </sources>
         </empty>
     
         <empty name="B">
           <sources>
             <source linkName="BtoK" />
           </sources>
         </empty>
     
         <empty name="C"/>
       </sequence>
     </scope>
     <scope name="scope2">   
       <sequence>
         <empty name="D"/>
         <empty name="E">
           <targets>
             <target linkName="ItoE" />
           </targets>
         </empty>
         <empty name="F"/>
       </sequence>
     </scope>

     <if>
       <condition>true()</condition>
       <empty name="G"/>
       <elseif>
         <condition>false()</condition>
         <flow>
           <links>
             <link name="JtoL"/>
             <link name="KtoI"/>
             <link name="LtoK"/>           
           </links>
           
           <empty name="I">
             <targets>
               <target linkName="KtoI" />
             </targets>
             <sources>
               <source linkName="ItoE" />
             </sources>
          </empty>
          
          <sequence>
            <empty name="K">
              <targets>
                <target linkName="LtoK" />
                <target linkName="BtoK" />
              </targets>
              <sources>
                <source linkName="KtoI" />
              </sources>
            </empty>

            <empty name="L">
              <targets>
                <target linkName="JtoL" />
              </targets>
              <sources>
                <source linkName="LtoK" />
              </sources>
            </empty>
            <empty name="M"/>
          </sequence>
          
           <empty name="J">
             <targets>
               <target linkName="AtoJ" />
             </targets>
             <sources>
               <source linkName="JtoL" />
             </sources>
           </empty>     
         </flow>         
       </elseif>
       <elseif>
         <condition>false()</condition>
         <empty name="H"/>
       </elseif>
         
         
     </if>

   </flow>
</process>