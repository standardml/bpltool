<REWRITE_RULESET NAME="PositionUpdate" CONSTRAINT="">

  <REWRITE_RULE NAME="MOVE">

     <RULE_LEFT>
        <positions>
          <pos p1="$beingMoved" p2="$to"/>
          <RULE_HOLE NAME="MORE-POS"/>
        </positions>
        <building>
          <floor p1="$from">
            <person p1="$beingMoved"/>
            <RULE_HOLE NAME="FROM-CONTENT"/>
          </floor>
          <floor p1="$to">
            <RULE_HOLE NAME="TO-CONTENT"/>
          </floor>
          <RULE_HOLE NAME="MORE-FLOORS"/>
        </building>
     </RULE_LEFT>

     <RULE_RIGHT>
        <position>
          <pos p1="$beingMoved" p2="$to"/>
          <RULE_HOLE NAME="MORE-POS"/>
        </position>
        <building>
          <floor p1="$from">
            <RULE_HOLE NAME="FROM-CONTENT"/>
          </floor>
          <floor p1="$to">
            <RULE_HOLE NAME="TO-CONTENT"/>
            <person p1="$beingMoved"/>
          </floor>
          <RULE_HOLE NAME="MORE-FLOORS"/>
        </building>
     </RULE_RIGHT>

  </REWRITE_RULE>

</REWRITE_RULESET>