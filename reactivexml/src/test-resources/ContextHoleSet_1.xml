<REWRITE_RULESET NAME="BPEL" CONSTRAINT="//*[not (ancestor-or-self::*[
					 name()='process' or name()='assign' or
					 name()='variables' or name()='variable' or
					 name()='copy' or name()='from' or name()='to' or
					 name()='to_query' or name()='from_query' or 
					 name()='from_expr' or name()='from_var' or
					 name()='switch' or name()='case' or name()='otherwise' or
					 name()='while' or name()='next' or name()='receive' or 
					 name()='invoke' or name()='reply' or
					 name()='correlation' or name()='correlations' or
					 name()='correlationSet' or name()='correlationSets'])]">

    <REWRITE_RULE NAME="context hole test-1">
      <RULE_LEFT>
	<wide>
	  <reg>
	    <instance name="$name">
	      <CONTEXT_HOLE NAME="con_hole">
		<wide>
		  <reg>
		    <assign>
		      <copy>
			<from_var name="$fvar"/>
			<to name="$tvar" />
		      </copy>
		    </assign>
		  </reg>
		  <reg>
		    <variables>
		      <variable name="$fvar">
			<RULE_HOLE NAME="from"/>
		      </variable>
		      <variable name="$tvar">
			<RULE_HOLE NAME="to"/>
		      </variable>
		      <RULE_HOLE NAME="more-variables"/>
		    </variables>
		  </reg>
		</wide>
	      </CONTEXT_HOLE>
	    </instance>
	  </reg>
	</wide>
      </RULE_LEFT>
      <RULE_RIGHT>
	<wide>
	  <reg>
	    <instance name="$name">
	      <CONTEXT_HOLE NAME="con_hole">
		<wide>
		  <reg>
		    <assign>
		      <copy>
			<from_var name="$fvar"/>
			<to name="tvar" />
		      </copy>
		    </assign>
		  </reg>
		  <reg>
		    <variables>
		      <variable name="$fvar">
			<RULE_HOLE NAME="from"/>
		      </variable>
		      <variable name="$tvar">
			<RULE_HOLE NAME="from"/>
		      </variable>
		      <RULE_HOLE NAME="more-variables"/>
		    </variables>
		  </reg>
		</wide>
	      </CONTEXT_HOLE>
	    </instance>
	  </reg>
	</wide>
      </RULE_RIGHT>
    </REWRITE_RULE>
</REWRITE_RULESET>
	
